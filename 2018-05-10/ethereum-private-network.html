<!DOCTYPE html>
<html lang="zh-cmn-Hans">

  <head>
  <link href="http://gmpg.org/xfn/11" rel="profile">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>
    
      
        ä»¥å¤ªåŠç§é“¾æ­å»º &middot; å‡¡äººç‰§ç™½'s Blog
      
    
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/poole.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="/public/css/lanyon.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/apple-touch-icon-precomposed.png">
  <link rel="shortcut icon" href="/public/favicon.ico">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-08 layout-reverse">

    <!-- Target for toggling the sidebar `.sidebar-checkbox` is for regular
     styles, `#sidebar-checkbox` for behavior. -->
<input type="checkbox" class="sidebar-checkbox" id="sidebar-checkbox">

<!-- Toggleable sidebar -->
<div class="sidebar" id="sidebar">
  <div class="sidebar-item">
    <p>å‡¡äººç‰§ç™½'s Blog</p>
  </div>

  <nav class="sidebar-nav">
    <a class="sidebar-nav-item" href="/">é¦–é¡µ</a>

    

    
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/about/">å…³äºæˆ‘</a>
        
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
    
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
      
    
      
        
          <a class="sidebar-nav-item" href="/tags/">æ ‡ç­¾</a>
        
      
    
  </nav>

  <div class="sidebar-item">
    <p>
      &copy; 2019. All rights reserved.
    </p>
  </div>
</div>


    <div class="wrap">
      <div class="masthead">
        <div class="container">
          <h3 class="masthead-title">
            <a href="/" title="Home">å‡¡äººç‰§ç™½'s Blog</a>
            <small>Personal Blog</small>
          </h3>
        </div>
      </div>

      <div class="container content">
        <div class="post">
  <h1 class="post-title">ä»¥å¤ªåŠç§é“¾æ­å»º</h1>
  <span class="post-date">2018å¹´05æœˆ10æ—¥</span>
  
  <div class="post-tags">
    
    <a href="/tag/blockchain">blockchain</a>
    
    <a href="/tag/åŒºå—é“¾">åŒºå—é“¾</a>
    
  </div>
  
  <hr>
  <h1 id="1-ç§é“¾æ­å»º">1. ç§é“¾æ­å»º</h1>

<p>ç”±äºèŠ‚ç‚¹ä¹‹é—´çš„è¿æ¥åªæœ‰åœ¨å¯¹ç­‰èŠ‚ç‚¹å…·æœ‰ç›¸åŒçš„åè®®ç‰ˆæœ¬å’Œç½‘ç»œIDçš„æƒ…å†µä¸‹æ‰æœ‰æ•ˆï¼Œå› æ­¤å¯ä»¥é€šè¿‡å°†è¿™äº›èŠ‚ç‚¹è®¾ç½®ä¸ºéé»˜è®¤å€¼æ¥æœ‰æ•ˆåœ°éš”ç¦»ç½‘ç»œã€‚å»ºè®®ä½¿ç”¨â€”â€”networkidå‘½ä»¤è¡Œé€‰é¡¹ã€‚å®ƒçš„å‚æ•°æ˜¯ä¸€ä¸ªæ•´æ•°ï¼Œä¸»ç½‘ç»œæœ‰id 1(é»˜è®¤)ã€‚</p>

<p><strong>å¦‚æœèŠ‚ç‚¹æ²¡æœ‰è¿æ¥åˆ°ä¸»ç½‘ç»œèŠ‚ç‚¹ï¼Œåˆ™ä»¥å¤ªç½‘ç»œæ˜¯ä¸€ä¸ªç§æœ‰ç½‘ç»œã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç§æœ‰åªæ„å‘³ç€ä¿ç•™æˆ–éš”ç¦»ï¼Œè€Œä¸æ˜¯ä¿æŠ¤æˆ–å®‰å…¨ã€‚</strong></p>

<h2 id="11-åˆ›å»ºä¸–çºªå—">1.1 åˆ›å»ºä¸–çºªå—</h2>

<p>æ¯ä¸€ä¸ªåŒºå—é“¾éƒ½æ˜¯ä»genesis blockå¼€å§‹ã€‚ç¬¬ä¸€æ¬¡è¿è¡Œgethæ—¶ï¼Œgenesis blockå°†æäº¤åˆ°æ•°æ®åº“ã€‚
è¿™åŒ…æ‹¬ä¸€ä¸ªå°çš„JSONæ–‡ä»¶(ä¾‹å¦‚ï¼Œç§°ä¸ºgenesis.json)</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"config"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="s2">"chainId"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"homesteadBlock"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"eip155Block"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"eip158Block"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
  </span><span class="s2">"alloc"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
		  </span><span class="s2">"7df9a875a174b3bc565e6424a0050ebc1b2d1d82"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="s2">"balance"</span><span class="p">:</span><span class="w"> </span><span class="s2">"300000"</span><span class="w"> </span><span class="p">}</span><span class="w">
	  </span><span class="p">},</span><span class="w">
  </span><span class="s2">"coinbase"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"difficulty"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x00000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"extraData"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x68747470733a2f2f6c7939352e6d65"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"gasLimit"</span><span class="w">   </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x2fefd8"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"nonce"</span><span class="w">      </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000042"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"mixhash"</span><span class="w">    </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"parentHash"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"timestamp"</span><span class="w">  </span><span class="p">:</span><span class="w"> </span><span class="s2">"0x00"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<h3 id="111-å‚æ•°è¯´æ˜">1.1.1 å‚æ•°è¯´æ˜</h3>

<table>
  <thead>
    <tr>
      <th style="text-align: right">å‚æ•°å</th>
      <th style="text-align: right">æè¿°</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right"><strong>chainId</strong></td>
      <td style="text-align: right">EIP155ååŠ å…¥ï¼Œç›®çš„åŒºåˆ«ä¸»ç½‘ï¼ˆä¸»ç½‘å€¼æ˜¯1ï¼‰ä¸å…¶ä»–ç½‘ç»œï¼Œå°†å½±å“äº¤æ˜“ç­¾å</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>homesteadBlock</strong></td>
      <td style="text-align: right">å½“è®¾ç½®ä¸º0æ—¶ï¼Œæ„å‘³ç€å°†ä½¿ç”¨Ethereumçš„Homesteadç‰ˆæœ¬ã€‚Homesteadæ˜¯ä»¥å¤ªåŠå¹³å°çš„ç¬¬äºŒä¸ªä¸»è¦ç‰ˆæœ¬ï¼Œå…¶ä¸­åŒ…æ‹¬å¤šé¡¹åè®®æ›´æ”¹å’Œç½‘ç»œæ›´æ”¹</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>coinbase</strong></td>
      <td style="text-align: right">å½“å‰å—, æŒ–çŸ¿å¥–åŠ±äº¤æ˜“åœ°å€(160-bit address)</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>difficulty</strong></td>
      <td style="text-align: right">ä»ä¸Šä¸€ä¸ªå—çš„difficultyå’Œtimestampè¿›è¡Œè®¡ç®—å¾—å‡ºï¼Œéš¾åº¦è¶Šé«˜ï¼ŒçŸ¿å·¥è¿ç®—é‡è¶Šå¤§ã€‚æµ‹è¯•ç¯å¢ƒå¯è®¾ä½å€¼</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>extraData</strong></td>
      <td style="text-align: right">å¯é€‰ï¼Œå­—ç¬¦ä¸²é•¿åº¦æœ€å¤§32å­—èŠ‚</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>gasLimit</strong></td>
      <td style="text-align: right">gasä¸Šé™</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>nonce</strong></td>
      <td style="text-align: right">A 64-bit hash, ç”¨äºå·¥ä½œé‡è¯æ˜</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>mixhash</strong></td>
      <td style="text-align: right">A 256-bit hash, å‚ä¸å—å¤´æœ‰æ•ˆæ€§éªŒè¯ï¼Œå…·ä½“è§è®ºæ–‡4.3.4ç« èŠ‚</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>parentHash</strong></td>
      <td style="text-align: right">æŒ‡å‘çˆ¶å—ï¼ŒKeccak 256ä½æ•£åˆ—ï¼Œä»è€Œæœ‰æ•ˆåœ°æ„å»ºå—é“¾ã€‚åœ¨åˆ›ä¸–çºªå—çš„æƒ…å†µä¸‹ï¼Œåªæœ‰åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå®ƒæ˜¯0</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>timestamp</strong></td>
      <td style="text-align: right">å½“å‰å—å¼€å§‹çš„æ—¶é—´æˆ³</td>
    </tr>
    <tr>
      <td style="text-align: right"><strong>alloc</strong></td>
      <td style="text-align: right">å…è®¸å®šä¹‰é¢„å…ˆå¡«å……çš„é’±åŒ…åˆ—è¡¨</td>
    </tr>
  </tbody>
</table>

<h3 id="112-åˆå§‹åŒ–æ•°æ®åº“">1.1.2 åˆå§‹åŒ–æ•°æ®åº“</h3>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth <span class="nt">--datadir</span> path/to/custom/data/folder init genesis.json
</code></pre></div></div>

<p><strong>å¯åŠ¨éœ€è¦æŒ‡å®šnetworkidï¼Œä¸chainIdå€¼ä¿æŒä¸€è‡´</strong></p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth <span class="nt">--datadir</span> path/to/custom/data/folder <span class="nt">--networkid</span> 0
</code></pre></div></div>

<h2 id="12-ç½‘ç»œå¼•å¯¼èŠ‚ç‚¹å¯é€‰">1.2 ç½‘ç»œå¼•å¯¼èŠ‚ç‚¹(å¯é€‰)</h2>

<p>å¯åŠ¨ä¸€ä¸ªå¼•å¯¼èŠ‚ç‚¹(é«˜å¯ç”¨)ï¼Œå…¶ä»–äººå¯ä»¥é€šè¿‡å¼•å¯¼èŠ‚ç‚¹åœ¨ç½‘ç»œä¸Šå‘ç°å½¼æ­¤ã€‚(å®˜æ–¹æ¨è)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>bootnode <span class="nt">--genkey</span><span class="o">=</span>boot.key
bootnode <span class="nt">--nodekey</span><span class="o">=</span>boot.key
</code></pre></div></div>

<p>è¿è¡Œåä¼šåœ¨æ§åˆ¶å°è¾“å‡ºenode URLä¾›å…¶ä»–èŠ‚ç‚¹è¿æ¥ï¼Œå¹¶åœ¨bootnodeä¸Šäº¤æ¢èŠ‚ç‚¹ä¿¡æ¯ã€‚(æ³¨æ„ï¼šéœ€è¦æŠŠURLä¸­çš„å­—ç¬¦[::]æ›¿æ¢ä¸ºå¯è®¿é—®çš„IPåœ°å€)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>INFO <span class="o">[</span>05-09|13:08:44] UDP listener up <span class="nv">self</span><span class="o">=</span>enode://a81d4bba596f9674f9eaae11f4fbd3c33eacf00763e66b0e7435cac14764548ab511261c1c175e346a57a8bfc42b4f674251e4beeabfb20a507d80a01f567f9a@[::]:30301
</code></pre></div></div>

<p><strong>æ³¨æ„ï¼šæ‰§è¡Œmake allç¼–è¯‘æ‰ä¼šå‡ºç° build/bin/bootnode å¯æ‰§è¡Œæ–‡ä»¶</strong></p>

<h2 id="13-å¯åŠ¨æˆå‘˜èŠ‚ç‚¹">1.3 å¯åŠ¨æˆå‘˜èŠ‚ç‚¹</h2>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth --datadir path/to/custom/data/folder --ethash.dagdir path/to/custom/data/folder/ethash --identity "node00" --networkid 0 --bootnodes enode://a81d4bba596f9674f9eaae11f4fbd3c33eacf00763e66b0e7435cac14764548ab511261c1c175e346a57a8bfc42b4f674251e4beeabfb20a507d80a01f567f9a@127.0.0.1:30301
</code></pre></div></div>

<h2 id="14-æ¥å£">1.4 æ¥å£</h2>

<h3 id="141-rpcæ¥å£å‚æ•°">1.4.1 RPCæ¥å£å‚æ•°</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">--rpc</span>                  Enable the HTTP-RPC server
  <span class="nt">--rpcaddr</span> value        HTTP-RPC server listening interface <span class="o">(</span>default: <span class="s2">"localhost"</span><span class="o">)</span>
  <span class="nt">--rpcport</span> value        HTTP-RPC server listening port <span class="o">(</span>default: 8545<span class="o">)</span>
  <span class="nt">--rpcapi</span> value         API<span class="s1">'s offered over the HTTP-RPC interface
  --rpccorsdomain value  Comma separated list of domains from which to accept cross origin requests (browser enforced)
  --rpcvhosts value      Comma separated list of virtual hostnames from which to accept requests (server enforced). Accepts '</span><span class="k">*</span><span class="s1">' wildcard. (default: "localhost")
</span></code></pre></div></div>

<h3 id="142-websocketæ¥å£å‚æ•°">1.4.2 WebSocketæ¥å£å‚æ•°</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">--ws</span>                   Enable the WS-RPC server
  <span class="nt">--wsaddr</span> value         WS-RPC server listening interface <span class="o">(</span>default: <span class="s2">"localhost"</span><span class="o">)</span>
  <span class="nt">--wsport</span> value         WS-RPC server listening port <span class="o">(</span>default: 8546<span class="o">)</span>
  <span class="nt">--wsapi</span> value          API<span class="s1">'s offered over the WS-RPC interface
  --wsorigins value      Origins from which to accept websockets requests
  --rpccorsdomain value  Comma separated list of domains from which to accept cross origin requests (browser enforced)
</span></code></pre></div></div>

<h3 id="143-æ¥å£æƒé™">1.4.3 æ¥å£æƒé™</h3>

<p><strong>æ³¨æ„ï¼šæ‰€æœ‰äººéƒ½å¯ä»¥è®¿é—®APIã€‚</strong></p>

<p>ä¾‹å­ï¼Œä»…å¼€å¯ethå’Œmineræ¥å£</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--rpcapi</span> <span class="s2">"eth,miner"</span>
</code></pre></div></div>

<p>å¼€å¯å…¶ä»–æ¥å£</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">--rpcapi</span> <span class="s2">"db,eth,net,web3,miner"</span>
</code></pre></div></div>

<h2 id="15-console">1.5 Console</h2>

<p>è¿›å…¥äº¤äº’å¼çš„JavaScriptæ‰§è¡Œç¯å¢ƒ</p>
<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&gt; geth attach http://127.0.0.1:8545
&gt; Welcome to the Geth JavaScript console!

&gt; instance: Geth/v1.8.8-unstable-6cf0ab38/darwin-amd64/go1.10.2
&gt;  modules: eth:1.0 net:1.0 rpc:1.0 web3:1.0
</code></pre></div></div>

<p><strong>éœ€è¦ç•™æ„modulesï¼Œæ˜¾ç¤ºäº†å¯ç”¨çš„æ¥å£ç±»åˆ«ã€‚</strong></p>

<p>é€šè¿‡unix socketè¿›å…¥æ‰§è¡Œç¯å¢ƒ</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> geth attach /Users/linyang/private-geth/data0/geth.ipc
<span class="o">&gt;</span> Welcome to the Geth JavaScript console!

<span class="o">&gt;</span> instance: Geth/v1.8.8-unstable-6cf0ab38/darwin-amd64/go1.10.2
<span class="o">&gt;</span>  modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0
</code></pre></div></div>

<h3 id="151-å‘½ä»¤ç®€è¦è¯´æ˜">1.5.1 å‘½ä»¤ç®€è¦è¯´æ˜</h3>

<ul>
  <li>ethï¼šåŒ…å«ä¸€äº›è·Ÿæ“ä½œåŒºå—é“¾ç›¸å…³çš„æ–¹æ³•ï¼›</li>
  <li>netï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹p2pç½‘ç»œçŠ¶æ€çš„æ–¹æ³•ï¼›</li>
  <li>adminï¼šåŒ…å«ä¸€äº›ä¸ç®¡ç†èŠ‚ç‚¹ç›¸å…³çš„æ–¹æ³•ï¼›</li>
  <li>minerï¼šåŒ…å«å¯åŠ¨&amp;åœæ­¢æŒ–çŸ¿çš„ä¸€äº›æ–¹æ³•ï¼›</li>
  <li>personalï¼šä¸»è¦åŒ…å«ä¸€äº›ç®¡ç†è´¦æˆ·çš„æ–¹æ³•ï¼›</li>
  <li>txpoolï¼šåŒ…å«ä¸€äº›æŸ¥çœ‹äº¤æ˜“å†…å­˜æ± çš„æ–¹æ³•ï¼›</li>
  <li>web3ï¼šåŒ…å«äº†ä»¥ä¸Šå¯¹è±¡ï¼Œè¿˜åŒ…å«ä¸€äº›å•ä½æ¢ç®—çš„æ–¹æ³•ã€‚</li>
</ul>

<h2 id="16-å¯åŠ¨æ–°èŠ‚ç‚¹">1.6 å¯åŠ¨æ–°èŠ‚ç‚¹</h2>

<p>æˆ‘è¿™é‡Œä¸ºäº†æ›´å¥½çš„ç†è§£ä»¥å¤ªå¹³å°ï¼Œå¦å¼€æ–°èŠ‚ç‚¹ã€‚(å› ä¸º2ä¸ªèŠ‚ç‚¹éƒ½åœ¨localhostï¼Œéœ€è¦æŒ‡å®šä¸åŒçš„ç«¯å£)</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth <span class="nt">--datadir</span> <span class="o">{</span>folder2<span class="o">}</span> init genesis.json
geth <span class="nt">--datadir</span> <span class="o">{</span>folder2<span class="o">}</span> <span class="nt">--ethash</span>.dagdir <span class="o">{</span>folder2<span class="o">}</span>/ethash <span class="nt">--networkid</span> 0 <span class="nt">--identity</span> <span class="s2">"node01"</span> <span class="nt">--port</span> 30302 <span class="nt">--bootnodes</span> enode://a81d4bba596f9674f9eaae11f4fbd3c33eacf00763e66b0e7435cac14764548ab511261c1c175e346a57a8bfc42b4f674251e4beeabfb20a507d80a01f567f9a@127.0.0.1:30301
</code></pre></div></div>

<p>è¿›å…¥consoleï¼ŒæŸ¥çœ‹æ˜¯å¦è‡ªåŠ¨å‘ç°äº†å…¶ä»–èŠ‚ç‚¹ï¼Œæ­£ç¡®å¦‚ä¸‹ï¼š</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> admin.peers
<span class="o">[{</span>
    caps: <span class="o">[</span><span class="s2">"eth/63"</span><span class="o">]</span>,
    <span class="nb">id</span>: <span class="s2">"1662c8187c6a42ffc74939545debfe7bdc2505a7d2041c399124c21884f68cd8d73eaa086c78d91ce156d143630388bb5d1eb84f84a766258cf179f7245170a4"</span>,
    name: <span class="s2">"Geth/node00/v1.8.8-unstable-6cf0ab38/darwin-amd64/go1.10.2"</span>,
    network: <span class="o">{</span>
      inbound: <span class="nb">false</span>,
      localAddress: <span class="s2">"127.0.0.1:64178"</span>,
      remoteAddress: <span class="s2">"127.0.0.1:30303"</span>,
      static: <span class="nb">false</span>,
      trusted: <span class="nb">false</span>
    <span class="o">}</span>,
    protocols: <span class="o">{</span>
      eth: <span class="o">{</span>
        difficulty: 917952,
        <span class="nb">head</span>: <span class="s2">"0xee18cd170606f58f40564b230c067ab4b8b69271276c371c2cef6477d3e674aa"</span>,
        version: 63
      <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}]</span>
</code></pre></div></div>

<h3 id="161-æŒ–çŸ¿å‰å…ˆåˆ›å»ºè´¦å·">1.6.1 æŒ–çŸ¿å‰å…ˆåˆ›å»ºè´¦å·</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> personal.newAccount<span class="o">(</span><span class="s2">"miner"</span><span class="o">)</span>
<span class="s2">"0xfb3aa7ece068bc423629a5e44cb32b39cc367819"</span>
</code></pre></div></div>

<p>æŸ¥è¯¢ä½™é¢ï¼Œæ–°è´¦å·ä½™é¢ä¸º0</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> eth.getBalance<span class="o">(</span><span class="s1">'0xfb3aa7ece068bc423629a5e44cb32b39cc367819'</span><span class="o">)</span>
0
</code></pre></div></div>

<h3 id="162-å¯åŠ¨æ—¶è®¾ç½®æŒ–çŸ¿å‚æ•°é‡å¯æ–°èŠ‚ç‚¹">1.6.2 å¯åŠ¨æ—¶è®¾ç½®æŒ–çŸ¿å‚æ•°ï¼Œé‡å¯æ–°èŠ‚ç‚¹ã€‚</h3>

<ol>
  <li>ä»…ç”¨äºæµ‹è¯•ï¼Œè¿è¡Œèµ„æºæœ€å°åŒ–minerthreads=1</li>
  <li>etherbase å…¬å¼€è´¦æˆ·åœ°å€ï¼Œè·å–é‡‡çŸ¿å¥–åŠ±ã€‚é»˜è®¤ä¸ºç¬¬ä¸€ä¸ªè´¦æˆ·</li>
</ol>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth &lt;usual-flags&gt; <span class="nt">--mine</span> <span class="nt">--minerthreads</span><span class="o">=</span>1 <span class="nt">--etherbase</span><span class="o">=</span>0x78a3a94dd67480bc8b5a6883842077afe495199d
</code></pre></div></div>

<p>å®Œæ•´å‘½ä»¤</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>geth <span class="nt">--datadir</span> <span class="o">{</span>folder2<span class="o">}</span> <span class="nt">--ethash</span>.dagdir <span class="o">{</span>folder2<span class="o">}</span>/ethash <span class="nt">--networkid</span> 0 <span class="nt">--identity</span> <span class="s2">"node01"</span> <span class="nt">--port</span> 30302 <span class="nt">--bootnodes</span> enode://a81d4bba596f9674f9eaae11f4fbd3c33eacf00763e66b0e7435cac14764548ab511261c1c175e346a57a8bfc42b4f674251e4beeabfb20a507d80a01f567f9a@127.0.0.1:30301 <span class="nt">--mine</span> <span class="nt">--minerthreads</span><span class="o">=</span>1 <span class="nt">--etherbase</span><span class="o">=</span>0x78a3a94dd67480bc8b5a6883842077afe495199d

......
INFO <span class="o">[</span>05-10|11:36:02] Generating DAG <span class="k">in </span>progress               <span class="nv">epoch</span><span class="o">=</span>0 <span class="nv">percentage</span><span class="o">=</span>98 <span class="nv">elapsed</span><span class="o">=</span>2m34.316s
INFO <span class="o">[</span>05-10|11:36:04] Generating DAG <span class="k">in </span>progress               <span class="nv">epoch</span><span class="o">=</span>0 <span class="nv">percentage</span><span class="o">=</span>99 <span class="nv">elapsed</span><span class="o">=</span>2m36.242s
INFO <span class="o">[</span>05-10|11:36:04] Generated ethash verification cache      <span class="nv">epoch</span><span class="o">=</span>0 <span class="nv">elapsed</span><span class="o">=</span>2m36.247s
INFO <span class="o">[</span>05-10|11:36:09] Generating DAG <span class="k">in </span>progress               <span class="nv">epoch</span><span class="o">=</span>1 <span class="nv">percentage</span><span class="o">=</span>0  <span class="nv">elapsed</span><span class="o">=</span>1.822s
INFO <span class="o">[</span>05-10|11:36:10] Generating DAG <span class="k">in </span>progress               <span class="nv">epoch</span><span class="o">=</span>1 <span class="nv">percentage</span><span class="o">=</span>1  <span class="nv">elapsed</span><span class="o">=</span>3.630s
INFO <span class="o">[</span>05-10|11:36:11] Successfully sealed new block            <span class="nv">number</span><span class="o">=</span>1 <span class="nb">hash</span><span class="o">=</span>06604aâ€¦a3e592
INFO <span class="o">[</span>05-10|11:36:11] ğŸ”¨ mined potential block                  <span class="nv">number</span><span class="o">=</span>1 <span class="nb">hash</span><span class="o">=</span>06604aâ€¦a3e592
INFO <span class="o">[</span>05-10|11:36:11] Commit new mining work                   <span class="nv">number</span><span class="o">=</span>2 <span class="nv">txs</span><span class="o">=</span>0 <span class="nv">uncles</span><span class="o">=</span>0 <span class="nv">elapsed</span><span class="o">=</span>356.439Âµs
......
</code></pre></div></div>

<p>æŒ–å‘ä¸€æ®µæ—¶é—´åï¼ŒæŸ¥è¯¢è´¦æˆ·ä½™é¢</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> eth.getBalance<span class="o">(</span><span class="s1">'0x3f81d9bbbe36113ff6f78f9567e277aa604ed7a9'</span><span class="o">)</span>
30000000000000000000
<span class="o">&gt;</span> web3.fromWei<span class="o">(</span><span class="s1">'30000000000000000000'</span>, <span class="s1">'ether'</span><span class="o">)</span>
30
</code></pre></div></div>
<p>è´¦æˆ·ä¸­å°±æœ‰30ä»¥å¤ªå¸äº†</p>

<h2 id="17-äº¤æ˜“">1.7 äº¤æ˜“</h2>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&gt;</span> personal.newAccount<span class="o">(</span><span class="s1">'ly'</span><span class="o">)</span>
<span class="s2">"0xf8e938812d246692d825d51b8e57da96a5eb8b6d"</span>
<span class="o">&gt;</span> var tx <span class="o">=</span> <span class="o">{</span>from: <span class="s2">"0x3f81d9bbbe36113ff6f78f9567e277aa604ed7a9"</span>, to: <span class="s2">"0xf8e938812d246692d825d51b8e57da96a5eb8b6d"</span>, value: web3.toWei<span class="o">(</span>1.5, <span class="s2">"ether"</span><span class="o">)}</span>
<span class="o">&gt;</span> eth.sendTransaction<span class="o">(</span>tx<span class="o">)</span>
</code></pre></div></div>

<p>æœªå®Œå¾…ç»­â€¦â€¦</p>

<hr />

<h1 id="å‚è€ƒ">å‚è€ƒ</h1>

<ul>
  <li><a href="https://ethfans.org/posts/ethereum-whitepaper">ç™½çš®ä¹¦-ä»¥å¤ªåŠ:ä¸‹ä¸€ä»£æ™ºèƒ½åˆçº¦å’Œå»ä¸­å¿ƒåŒ–åº”ç”¨å¹³å°</a></li>
  <li><a href="https://github.com/ethereum/go-ethereum">ä»¥å¤ªåŠæºç  github.com</a></li>
  <li><a href="https://github.com/ethereum/go-ethereum#operating-a-private-network">https://github.com/ethereum/go-ethereum#operating-a-private-network</a></li>
  <li><a href="https://github.com/ethereum/go-ethereum/wiki/Management-APIs#list-of-management-apis">Management APIs Â· ethereum/go-ethereum Wiki Â· GitHub</a></li>
</ul>

</div>

<div class="related">
  <h2>ç›¸å…³æ–‡ç« </h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <small>2019å¹´02æœˆ21æ—¥</small>
          <a href="/2019-02-21/tencent-cloud-api-with-postman.html">
            è…¾è®¯äº‘å®¹å™¨æœåŠ¡Apiå®ä¾‹
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <small>2019å¹´02æœˆ21æ—¥</small>
          <a href="/2019-02-21/analyse-javascript.html">
            Bet365æ•°æ®æŠ“å–åˆ†æå®Œæˆ
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <small>2018å¹´11æœˆ15æ—¥</small>
          <a href="/2018-11-15/about-oxs-defaults.html">
            å…³äºMacOSé…ç½®defaults
          </a>
        </h3>
      </li>
    
  </ul>
</div>

      </div>
    </div>

    <label for="sidebar-checkbox" class="sidebar-toggle"></label>

    <script>
      (function(document) {
        var toggle = document.querySelector('.sidebar-toggle');
        var sidebar = document.querySelector('#sidebar');
        var checkbox = document.querySelector('#sidebar-checkbox');

        document.addEventListener('click', function(e) {
          var target = e.target;

          if(!checkbox.checked ||
             sidebar.contains(target) ||
             (target === checkbox || target === toggle)) return;

          checkbox.checked = false;
        }, false);
      })(document);
    </script>
  </body>
</html>
