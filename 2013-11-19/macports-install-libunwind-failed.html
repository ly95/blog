<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>凡人牧白's Blog - MacPort安装libunwind失败</title>
  <link rel="shortcut icon" href="/assets/images/favicon.ico">
  <link rel="stylesheet" href="/assets/css/style.css">
  <link rel="alternate" type="application/rss+xml" title="凡人牧白's Blog" href="/rss.xml">
  <link rel="stylesheet" href="/assets/css/highlight.css">
</head>
<body>

  <nav class="main-nav">
    
        <a href="/"> <span class="arrow">←</span> 返回 </a>
    
    
        <a href="/about.html">关于我</a>
    
    <a class="cta" href="/feed.xml">RSS</a>
</nav>

  

  <section id="wrapper" class="">
    <article class="post">
    <header>
        <h1>MacPort安装libunwind失败</h1>
        <h2 class="headline">2013年11月19日 18:06:30</h2>
        <div class="tags">
            
            <a href="/tag/macport">MacPort</a>
            
        </div>
    </header>
    <section id="post-body">
        <p>通过macport重新安装golang的时候得到下面提示</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre>Extracting libunwind-headers
Error: org.macports.extract <span class="k">for </span>port libunwind-headers returned: <span class="nb">command </span>execution failed
Please see the log file <span class="k">for </span>port libunwind-headers <span class="k">for </span>details:
/opt/local/var/macports/logs/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_devel_libunwind-headers/libunwind-headers/main.log
Error: Problem <span class="k">while </span>installing libunwind-headers
Error: Unable to execute port: upgrade llvm-gcc42 failed
</pre></td></tr></tbody></table></code></pre></div></div>

<p>通过搜索得到是xcode5升级造成的，先接受新许可。</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre></td><td class="rouge-code"><pre><span class="nb">sudo </span>xcodebuild <span class="nt">-license</span> agree
</pre></td></tr></tbody></table></code></pre></div></div>

<p>打开错误日志 main.log 看到</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre></td><td class="rouge-code"><pre><span class="nt">-xf</span> - 
:info:extract sh: /usr/bin/gnutar: No such file or directory
:info:extract <span class="nb">gzip</span>: error writing to output: Broken pipe
:info:extract <span class="nb">gzip</span>: /opt/local/var/macports/distfiles/libunwind-headers/libunwind-35.1.tar.gz: uncompress failed
:info:extract Command failed:  <span class="nb">cd</span>
<span class="s2">"/opt/local/var/macports/build/_opt_local_var_macports_sources_rsync.macports.org_release_tarballs_ports_devel_libunwind-headers/libunwind-headers/work"</span> <span class="o">&amp;&amp;</span> /usr/bin/gzip <span class="nt">-dc</span> <span class="s1">'/opt/local/var/macports/distfiles/libunwind-headers/libunwind-35.1.tar.gz'</span> | /usr/bin/gnutar <span class="nt">--no-same-owner</span>
<span class="nt">-xf</span> -
</pre></td></tr></tbody></table></code></pre></div></div>

<p>原来是gnutar不存在，回想起来，macos是10.7时安装的macport ，现在已经升级到10.9了。</p>

<blockquote>
  <p>The problem is that your version of MacPorts was not built on Mavericks and assumes the tools that were there when it was installed are still available. Since this is no longer the case, you should re-install MacPorts, which will automatically fix this issue.</p>
</blockquote>

<p>所以只能重新安装macport</p>

    </section>
</article>

<footer id="post-meta" class="clearfix">
    <a href="http://twitter.com/ly95me">
        <img class="avatar" src="/assets/images/avatar.png">
        <div>
            <span class="dark">Yang Lin</span>
            <span>Personal Blog.</span>
        </div>
    </a>

    <section id="sharing">
        <a class="twitter" href="https://twitter.com/intent/tweet?text=http://ly95.me/2013-11-19/macports-install-libunwind-failed.html - MacPort安装libunwind失败 by @ly95me"><span class="icon-twitter"> Tweet</span></a>

<a class="facebook" href="#" onclick="
    window.open(
      'https://www.facebook.com/sharer/sharer.php?u='+encodeURIComponent(location.href),
      'facebook-share-dialog',
      'width=626,height=436');
    return false;"><span class="icon-facebook-rect"> Share</span>
</a>
    </section>
</footer>

<!-- Disqus comments -->

    <div class="archive readmore">
        <h3>Comments</h3>
        <section class="disqus">
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        var disqus_shortname = 'ly95';
        var disqus_developer = 0; // developer mode is on
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
</section>
    </div>


  </section>

  <script src="/assets/js/jquery.min.js"></script>
  <script src="/assets/js/main.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-33570712-1', 'auto');
    ga('send', 'pageview');
  </script>
</body>
</html>



